<!DOCTYPE html>
<html>
<head>
  <title>Chocolate Soufflé 3D</title>
  <style>
    body { margin: 0; background: linear-gradient(135deg, #3c1810, #6b2c20); }
    canvas { display: block; }
    #info {
      position: absolute;
      bottom: 10px;
      left: 10px;
      color: #deb887;
      font-family: Arial, sans-serif;
      font-size: 12px;
      opacity: 0.8;
    }
  </style>
</head>
<body>
  <div id="info">Drag to rotate • Scroll to zoom</div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script>
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setClearColor(0x000000, 0);
    renderer.shadowMap.enabled = true;
    document.body.appendChild(renderer.domElement);

    // Warm lighting for dessert
    const ambientLight = new THREE.AmbientLight(0x404040, 0.5);
    scene.add(ambientLight);
    
    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
    directionalLight.position.set(3, 8, 4);
    directionalLight.castShadow = true;
    scene.add(directionalLight);

    const warmLight = new THREE.SpotLight(0xffd700, 0.6);
    warmLight.position.set(-2, 5, 3);
    scene.add(warmLight);

    // Create plate
    const plateGeometry = new THREE.CylinderGeometry(2, 2, 0.1, 32);
    const plateMaterial = new THREE.MeshPhongMaterial({ color: 0xffffff });
    const plate = new THREE.Mesh(plateGeometry, plateMaterial);
    plate.position.y = -1;
    plate.receiveShadow = true;
    scene.add(plate);

    const group = new THREE.Group();

    // Ramekin
    const ramekinGeometry = new THREE.CylinderGeometry(0.8, 0.7, 0.6, 16);
    const ramekinMaterial = new THREE.MeshPhongMaterial({ color: 0xffffff });
    const ramekin = new THREE.Mesh(ramekinGeometry, ramekinMaterial);
    ramekin.position.y = -0.7;
    ramekin.castShadow = true;

    // Soufflé (risen)
    const souffleGeometry = new THREE.SphereGeometry(0.9, 16, 16);
    const souffleMaterial = new THREE.MeshPhongMaterial({ 
      color: 0x4a2c2a,
      shininess: 10
    });
    const souffle = new THREE.Mesh(souffleGeometry, souffleMaterial);
    souffle.position.y = -0.3;
    souffle.scale.y = 1.2;
    souffle.castShadow = true;

    // Powdered sugar dusting
    for (let i = 0; i < 20; i++) {
      const sugarGeometry = new THREE.SphereGeometry(0.02, 4, 4);
      const sugarMaterial = new THREE.MeshPhongMaterial({ color: 0xffffff });
      const sugar = new THREE.Mesh(sugarGeometry, sugarMaterial);
      
      const angle = Math.random() * Math.PI * 2;
      const radius = Math.random() * 0.8;
      sugar.position.x = Math.cos(angle) * radius;
      sugar.position.z = Math.sin(angle) * radius;
      sugar.position.y = 0.2 + Math.random() * 0.2;
      
      group.add(sugar);
    }

    // Ice cream scoop
    const iceCreamGeometry = new THREE.SphereGeometry(0.4, 12, 12);
    const iceCreamMaterial = new THREE.MeshPhongMaterial({ 
      color: 0xfffacd,
      shininess: 60
    });
    const iceCream = new THREE.Mesh(iceCreamGeometry, iceCreamMaterial);
    iceCream.position.x = 1.3;
    iceCream.position.y = -0.5;
    iceCream.castShadow = true;

    // Caramel drizzle
    const caramelGeometry = new THREE.TorusGeometry(0.3, 0.02, 4, 12);
    const caramelMaterial = new THREE.MeshPhongMaterial({ color: 0xdaa520 });
    const caramel = new THREE.Mesh(caramelGeometry, caramelMaterial);
    caramel.position.x = 1.3;
    caramel.position.y = -0.3;
    caramel.rotation.x = Math.PI / 2;

    // Mint garnish
    const mintGeometry = new THREE.PlaneGeometry(0.2, 0.3);
    const mintMaterial = new THREE.MeshPhongMaterial({ 
      color: 0x228b22,
      side: THREE.DoubleSide
    });
    const mint = new THREE.Mesh(mintGeometry, mintMaterial);
    mint.position.x = 1.5;
    mint.position.y = -0.2;
    mint.rotation.y = Math.PI / 4;

    group.add(ramekin);
    group.add(souffle);
    group.add(iceCream);
    group.add(caramel);
    group.add(mint);
    scene.add(group);
    
    camera.position.set(3, 2, 4);
    camera.lookAt(0, -0.3, 0);

    // Controls
    let isDragging = false;
    let previousMousePosition = { x: 0, y: 0 };

    document.addEventListener('mousedown', (e) => { isDragging = true; });
    document.addEventListener('mousemove', (e) => {
      if (isDragging) {
        const deltaMove = {
          x: e.clientX - previousMousePosition.x,
          y: e.clientY - previousMousePosition.y
        };
        group.rotation.y += deltaMove.x * 0.01;
        group.rotation.x += deltaMove.y * 0.01;
      }
      previousMousePosition = { x: e.clientX, y: e.clientY };
    });
    document.addEventListener('mouseup', () => { isDragging = false; });

    document.addEventListener('wheel', (e) => {
      camera.position.multiplyScalar(1 + e.deltaY * 0.001);
      camera.position.clampLength(2, 8);
    });

    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });

    function animate() {
      requestAnimationFrame(animate);
      if (!isDragging) {
        group.rotation.y += 0.005;
      }
      renderer.render(scene, camera);
    }
    animate();
  </script>
</body>
</html>